(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{1231:function(e,r,t){var content=t(1236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(126).default)("28a9da02",content,!0,{sourceMap:!1})},1232:function(e,r,t){"use strict";t.r(r);t(56),t(41),t(55),t(26),t(74),t(48),t(75);var n=t(19),o=t(30),c=(t(65),t(42),t(76));function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(o.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}var m={data:function(){return{show:!1,error:"",camera:"rear"}},methods:h(h({},Object(c.b)("app",["toggleDisplayQrScan","callZaloApi"])),{},{switchCamera:function(){switch(this.camera){case"null":this.camera="rear";break;case"rear":this.camera="front";break;case"front":this.camera="null"}},onDecode:function(code){this.toggleDisplayQrScan(),this.callZaloApi({code:code})},onInit:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.error="",t.next=4,e;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),"NotAllowedError"===t.t0.name?r.error="ERROR: you need to grant camera access permission":"NotFoundError"===t.t0.name?r.error="ERROR: no camera on this device":"NotSupportedError"===t.t0.name?r.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===t.t0.name?r.error="ERROR: is the camera already in use?":"OverconstrainedError"===t.t0.name?"front"===r.camera?r.error="Thiết bị của bạn không hỗ trợ camera trước":r.error="Thiết bị của bạn không hỗ trợ camera sau":"StreamApiNotSupportedError"===t.t0.name?r.error="ERROR: Stream API is not supported in this browser":"InsecureContextError"===t.t0.name?r.error="ERROR: Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":r.error="ERROR: Camera error (".concat(t.t0.name,")");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},handlePhoneCheckMessageOkClick:function(){this.show=!1}})},f=t(57),component=Object(f.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("a-modal",{attrs:{visible:!0},on:{cancel:e.toggleDisplayQrScan}},[t("p",{staticClass:"error"},[e._v(e._s(e.error))]),e._v(" "),t("qrcode-stream",{attrs:{camera:e.camera},on:{decode:e.onDecode,init:e.onInit}},[t("button",{on:{click:e.switchCamera}},[t("img",{attrs:{src:"/switch-camera.png",alt:"switch camera"}})])]),e._v(" "),t("template",{slot:"footer"},[t("a-button",{attrs:{type:"primary"},on:{click:e.toggleDisplayQrScan}},[e._v("Huỷ")])],1)],2)],1)}),[],!1,null,null,null);r.default=component.exports},1235:function(e,r,t){"use strict";t(1231)},1236:function(e,r,t){var n=t(125)(!1);n.push([e.i,".text-red[data-v-47a8f9a5]{color:red;line-height:normal}",""]),e.exports=n},1240:function(e,r,t){"use strict";t.r(r);t(56),t(41),t(55),t(26),t(74),t(48),t(75);var n=t(19),o=t(30),c=(t(65),t(58),t(76));function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(o.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}var m={components:{QrScan:t(1232).default},data:function(){return{loading:!1,form:{code:"",phone:""}}},computed:h(h({},Object(c.c)("app",["getDisplayQrScan"])),{},{validatePhone:function(){return!(this.form.phone.length<10)&&!!/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/.test(this.form.phone)}}),methods:h(h({},Object(c.b)("app",["toggleDisplayQrScan"])),{},{onZaloCodeSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.next=3,e.$store.dispatch("app/callZaloApi",{code:e.form.code});case 3:e.loading=!1,e.form.code="";case 5:case"end":return r.stop()}}),r)})))()},onPhoneSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.next=3,e.$store.dispatch("app/callCheckPhoneApi",{phone:e.form.phone});case 3:e.loading=!1,e.form.phone="";case 5:case"end":return r.stop()}}),r)})))()}})},f=(t(1235),t(57)),component=Object(f.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-form",[t("h2",[e._v("Nhập mã số hoặc số điện thoại")]),e._v(" "),t("p",[e._v("\n    Nhập mã số từ zalo khách hàng (Hoặc nhập SĐT trong trường hợp KH không có\n    Zalo)\n  ")]),e._v(" "),t("a-form-item",[t("a-input",{attrs:{placeholder:"Mã số zalo"},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}}),e._v(" "),e.form.code.length<4?t("p",{staticClass:"text-red"},[e._v("\n      (*) Bạn phải nhập Mã số từ Zalo của KH hoặc SĐT của khách hàng\n    ")]):e._e(),e._v(" "),t("a-row",{attrs:{gutter:"8"}},[t("a-col",{attrs:{span:12}},[t("a-button",{attrs:{type:"primary",block:"",loading:e.loading,disabled:e.form.code.length<1},on:{click:e.onZaloCodeSubmit}},[e._v("Gửi mã")])],1),e._v(" "),t("a-col",{attrs:{span:12}},[t("a-button",{attrs:{type:"primary",block:""},on:{click:e.toggleDisplayQrScan}},[e._v("Scan QRcode")])],1)],1)],1),e._v(" "),t("a-form-item",[t("hr")]),e._v(" "),t("a-form-item",[t("a-input",{attrs:{"validate-status":!1,placeholder:"Số điện thoại"},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}}),e._v(" "),e.validatePhone?e._e():t("p",{staticClass:"text-red"},[e._v("\n      (*) Vui lòng nhập đúng số điện thoại\n    ")]),e._v(" "),t("a-row",{attrs:{gutter:"8"}},[t("a-col",{attrs:{span:12}},[t("a-button",{attrs:{type:"primary",block:"",loading:e.loading,disabled:!e.validatePhone},on:{click:e.onPhoneSubmit}},[e._v("Gọi điện")])],1),e._v(" "),t("a-col",{attrs:{span:12}})],1)],1),e._v(" "),e.getDisplayQrScan?t("qr-scan"):e._e()],1)}),[],!1,null,"47a8f9a5",null);r.default=component.exports}}]);