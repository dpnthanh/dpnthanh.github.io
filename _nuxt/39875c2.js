(window.webpackJsonp=window.webpackJsonp||[]).push([[9,2,4,6,7],{1231:function(e,t,r){var content=r(1236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(126).default)("28a9da02",content,!0,{sourceMap:!1})},1232:function(e,t,r){"use strict";r.r(t);r(56),r(41),r(55),r(26),r(74),r(48),r(75);var n=r(19),o=r(30),c=(r(65),r(42),r(76));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{show:!1,error:"",camera:"rear"}},methods:h(h({},Object(c.b)("app",["toggleDisplayQrScan","callZaloApi"])),{},{switchCamera:function(){switch(this.camera){case"null":this.camera="rear";break;case"rear":this.camera="front";break;case"front":this.camera="null"}},onDecode:function(code){this.toggleDisplayQrScan(),this.callZaloApi({code:code})},onInit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.error="",r.next=4,e;case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),"NotAllowedError"===r.t0.name?t.error="ERROR: you need to grant camera access permission":"NotFoundError"===r.t0.name?t.error="ERROR: no camera on this device":"NotSupportedError"===r.t0.name?t.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===r.t0.name?t.error="ERROR: is the camera already in use?":"OverconstrainedError"===r.t0.name?"front"===t.camera?t.error="Thiết bị của bạn không hỗ trợ camera trước":t.error="Thiết bị của bạn không hỗ trợ camera sau":"StreamApiNotSupportedError"===r.t0.name?t.error="ERROR: Stream API is not supported in this browser":"InsecureContextError"===r.t0.name?t.error="ERROR: Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":t.error="ERROR: Camera error (".concat(r.t0.name,")");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},handlePhoneCheckMessageOkClick:function(){this.show=!1}})},d=r(57),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-modal",{attrs:{visible:!0},on:{cancel:e.toggleDisplayQrScan}},[r("p",{staticClass:"error"},[e._v(e._s(e.error))]),e._v(" "),r("qrcode-stream",{attrs:{camera:e.camera},on:{decode:e.onDecode,init:e.onInit}},[r("button",{on:{click:e.switchCamera}},[r("img",{attrs:{src:"/switch-camera.png",alt:"switch camera"}})])]),e._v(" "),r("template",{slot:"footer"},[r("a-button",{attrs:{type:"primary"},on:{click:e.toggleDisplayQrScan}},[e._v("Huỷ")])],1)],2)],1)}),[],!1,null,null,null);t.default=component.exports},1235:function(e,t,r){"use strict";r(1231)},1236:function(e,t,r){var n=r(125)(!1);n.push([e.i,".text-red[data-v-47a8f9a5]{color:red;line-height:normal}",""]),e.exports=n},1237:function(e,t,r){"use strict";r.r(t);r(56),r(41),r(55),r(26),r(74),r(48),r(75);var n=r(30),o=(r(127),r(76));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={props:{result:{interval:null,type:Boolean,default:!1}},data:function(){return{timeout:5}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)("app",["getZaloErrorMessage"])),mounted:function(){var e=this;this.interval=setInterval((function(){e.timeout-=1,e.timeout<0&&e.handleClickBack()}),1e3)},methods:{handleClickBack:function(){clearInterval(this.interval),this.$store.dispatch("app/backToMain")}}},h=l,f=r(57),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.result?r("div",[r("a-result",{attrs:{status:"success",title:"Mã số đúng","sub-title":"Chúc mừng! Bạn nhận được 1 phần quà từ chương trình"},scopedSlots:e._u([{key:"extra",fn:function(){return[r("a-button",{attrs:{type:"primary"},on:{click:e.handleClickBack}},[e._v("Quay lại ("+e._s(e.timeout)+")")])]},proxy:!0}],null,!1,1723242967)})],1):r("div",[r("a-result",{attrs:{status:"error",title:"Mã số không hợp lệ","sub-title":e.getZaloErrorMessage},scopedSlots:e._u([{key:"extra",fn:function(){return[r("a-button",{attrs:{type:"primary"},on:{click:e.handleClickBack}},[e._v("Quay lại ("+e._s(e.timeout)+")")])]},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=component.exports},1240:function(e,t,r){"use strict";r.r(t);r(56),r(41),r(55),r(26),r(74),r(48),r(75);var n=r(19),o=r(30),c=(r(65),r(58),r(76));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{QrScan:r(1232).default},data:function(){return{loading:!1,form:{code:"",phone:""}}},computed:h(h({},Object(c.c)("app",["getDisplayQrScan"])),{},{validatePhone:function(){return!(this.form.phone.length<10)&&!!/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/.test(this.form.phone)}}),methods:h(h({},Object(c.b)("app",["toggleDisplayQrScan"])),{},{onZaloCodeSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("app/callZaloApi",{code:e.form.code});case 3:e.loading=!1,e.form.code="";case 5:case"end":return t.stop()}}),t)})))()},onPhoneSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("app/callCheckPhoneApi",{phone:e.form.phone});case 3:e.loading=!1,e.form.phone="";case 5:case"end":return t.stop()}}),t)})))()}})},d=(r(1235),r(57)),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-form",[r("h2",[e._v("Nhập mã số hoặc số điện thoại")]),e._v(" "),r("p",[e._v("\n    Nhập mã số từ zalo khách hàng (Hoặc nhập SĐT trong trường hợp KH không có\n    Zalo)\n  ")]),e._v(" "),r("a-form-item",[r("a-input",{attrs:{placeholder:"Mã số zalo"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),e.form.code.length<4?r("p",{staticClass:"text-red"},[e._v("\n      (*) Bạn phải nhập Mã số từ Zalo của KH hoặc SĐT của khách hàng\n    ")]):e._e(),e._v(" "),r("a-row",{attrs:{gutter:"8"}},[r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{type:"primary",block:"",loading:e.loading,disabled:e.form.code.length<1},on:{click:e.onZaloCodeSubmit}},[e._v("Gửi mã")])],1),e._v(" "),r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{type:"primary",block:""},on:{click:e.toggleDisplayQrScan}},[e._v("Scan QRcode")])],1)],1)],1),e._v(" "),r("a-form-item",[r("hr")]),e._v(" "),r("a-form-item",[r("a-input",{attrs:{"validate-status":!1,placeholder:"Số điện thoại"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),e.validatePhone?e._e():r("p",{staticClass:"text-red"},[e._v("\n      (*) Vui lòng nhập đúng số điện thoại\n    ")]),e._v(" "),r("a-row",{attrs:{gutter:"8"}},[r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{type:"primary",block:"",loading:e.loading,disabled:!e.validatePhone},on:{click:e.onPhoneSubmit}},[e._v("Gọi điện")])],1),e._v(" "),r("a-col",{attrs:{span:12}})],1)],1),e._v(" "),e.getDisplayQrScan?r("qr-scan"):e._e()],1)}),[],!1,null,"47a8f9a5",null);t.default=component.exports},1241:function(e,t,r){"use strict";r.r(t);r(56),r(41),r(55),r(26),r(74),r(48),r(75);var n=r(30),o=r(76);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)("app",["getPhone"])),mounted:function(){window.open("tel:".concat(this.getPhone))},methods:{handleSubmitClick:function(){this.$store.dispatch("app/callSubmitPhoneApi",!0)},handleCloseClick:function(){this.$store.dispatch("app/callSubmitPhoneApi",!1),this.$store.dispatch("app/backToMain")}}},h=l,f=r(57),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Xác minh số điện thoại")]),e._v(" "),e._m(0),e._v(" "),r("p",[e._v("(Bạn phải hoàn toàn chịu trách nhiệm nếu có vấn đề phát sinh)")]),e._v(" "),r("a-row",{attrs:{gutter:4}},[r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{block:"",type:"primary"},on:{click:e.handleSubmitClick}},[e._v("Đúng "),r("a-icon",{attrs:{type:"check-circle"}})],1)],1),e._v(" "),r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{block:"",type:"danger"},on:{click:e.handleCloseClick}},[e._v("Sai "),r("a-icon",{attrs:{type:"close-circle"}})],1)],1)],1)],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v("Xác nhận số điện thoại của khách hàng là chính xác?")])])}],!1,null,null,null);t.default=component.exports},1245:function(e,t,r){"use strict";r.r(t);r(56),r(41),r(55),r(26),r(74),r(48),r(75);var n=r(30),o=r(76),c=r(314),l=r(1240),h=r(1237),f=r(1241);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{Box:c.default,MainForm:l.default,Result:h.default,PhoneSubmit:f.default},layout:"basic",data:function(){return{}},computed:m(m({},Object(o.c)("app",["getAppMode","getResult","getPhoneErrorMessage"])),Object(o.c)("auth",["isLogin"])),created:function(){this.isLogin||this.$router.push("/login")},methods:{handlePhoneCheckMessageOkClick:function(){this.$store.dispatch("app/backToMain")}}},v=r(57),component=Object(v.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("box",[["main","phone-check"].includes(e.getAppMode)?r("main-form"):e._e(),e._v(" "),"zalo"===e.getAppMode||"phone-success"===e.getAppMode?r("result",{attrs:{result:e.getResult}}):e._e(),e._v(" "),"phone-submit"===e.getAppMode?r("phone-submit"):e._e()],1),e._v(" "),r("a-modal",{attrs:{visible:"phone-check"===e.getAppMode},on:{"on-ok":e.handlePhoneCheckMessageOkClick,cancel:e.handlePhoneCheckMessageOkClick}},[r("a-result",{attrs:{status:"error",title:"Thông báo","sub-title":e.getPhoneErrorMessage}}),e._v(" "),r("template",{slot:"footer"},[r("a-button",{key:"back",attrs:{block:""},on:{click:e.handlePhoneCheckMessageOkClick}},[e._v("\n        Quay lại\n      ")])],1)],2)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Result:r(1237).default})}}]);